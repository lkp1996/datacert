<h1 class="jumbotron-heading">Organisation</h1>
<uib-tabset active="active">
    <uib-tab index="0" heading="{{tabs[0].name}}" disable="tabs[0].disabled">
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Nom de l'organisation du site audité</label>
                <input type="text" class="form-control" placeholder="Nom" ng-model="organization.name"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Nom" ng-model="organization.name"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <label>Adresse(s)</label>
        <div class="form-row" ng-repeat="address in organization.addresses">
            <div class="col-md-1 mb-3">
                <a ng-click="delRow(organization.addresses, $index)"
                   ng-if="modified && organization.addresses.length > 1">
                    <ng-md-icon icon="remove" style="fill: #c60000"></ng-md-icon>
                </a>
            </div>
            <div class="col-md-2 mb-3">
                <label>NP</label>
                <input type="text" class="form-control" placeholder="NP"
                       ng-model="address.np"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="NP"
                       ng-model="address.np"
                       ng-if="!modified" disabled>
            </div>
            <div class="col-md-3 mb-3">
                <label>Adresse</label>
                <input type="text" class="form-control" placeholder="Adresse"
                       ng-model="address.address"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Adresse"
                       ng-model="address.address"
                       ng-if="!modified" disabled>
            </div>
            <div class="col-md-3 mb-3">
                <label>Localité</label>
                <input type="text" class="form-control" placeholder="Localité"
                       ng-model="address.location"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Localité"
                       ng-model="address.location"
                       ng-if="!modified" disabled>
            </div>
            <div class="col-md-3 mb-3">
                <label>Pays</label>
                <input type="text" class="form-control" placeholder="Pays"
                       ng-model="address.country"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Pays"
                       ng-model="address.country"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-1 mb-3">
                <a ng-click="addRow(organization.addresses)"
                   ng-if="modified">
                    <ng-md-icon icon="add" style="fill: #2f6ac6"></ng-md-icon>
                </a>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Email</label>
                <input type="email" class="form-control" placeholder="Email" ng-model="organization.email"
                       ng-if="modified">
                <input type="email" class="form-control" placeholder="Email" ng-model="organization.email"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Téléphone</label>
                <input type="tel" class="form-control" placeholder="Téléphone" ng-model="organization.phone"
                       ng-if="modified">
                <input type="tel" class="form-control" placeholder="Téléphone" ng-model="organization.phone"
                       ng-if="!modified"
                       disabled>
            </div>
        </div>

        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Site web</label>
                <input type="text" class="form-control" placeholder="Site web" ng-model="organization.website"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Site web" ng-model="organization.website"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Branches / Etablissements secondaires / Processus externalisés</label>
                <input type="text" class="form-control"
                       placeholder="Branches / Etablissements secondaires / Processus externalisés"
                       ng-model="organization.branches"
                       ng-if="modified">
                <input type="text" class="form-control"
                       placeholder="Branches / Etablissements secondaires / Processus externalisés"
                       ng-model="organization.branches"
                       ng-if="!modified" disabled>
            </div>

        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Nom de la personne de contact</label>
                <input type="text" class="form-control" placeholder="Nom de la personne de contact"
                       ng-model="organization.contactLastName" ng-if="modified">
                <input type="text" class="form-control" placeholder="Nom de la personne de contact"
                       ng-model="organization.contactLastName" ng-if="!modified"
                       disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Prénom de la personne de contact</label>
                <input type="text" class="form-control" placeholder="Prénom de la personne de contact"
                       ng-model="organization.contactFirstName"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Prénom de la personne de contact"
                       ng-model="organization.contactFirstName"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Description générale de l'organisation</label>
                <input type="text" class="form-control" placeholder="Description générale de l'organisation"
                       ng-model="organization.generalDescription"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Description générale de l'organisation"
                       ng-model="organization.generalDescription"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Brève description des processus et produits exclus et justification de l'exclusion</label>
                <input type="text" class="form-control"
                       placeholder="Brève description des processus et produits exclus et justification de l'exclusion"
                       ng-model="organization.outsourcedProcessAndProductsDescription" ng-if="modified">
                <input type="text" class="form-control"
                       placeholder="Brève description des processus et produits exclus et justification de l'exclusion"
                       ng-model="organization.outsourcedProcessAndProductsDescription" ng-if="!modified"
                       disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Nom de l'organisation du siège</label>
                <input type="text" class="form-control" placeholder="Nom de l'organisation du siège"
                       ng-model="organization.headquartersName"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Nom de l'organisation du siège"
                       ng-model="organization.headquartersName"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>NP du siège</label>
                <input type="text" class="form-control" placeholder="NP du siège"
                       ng-model="organization.headquartersNP"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="NP du siège"
                       ng-model="organization.headquartersNP"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Adresse du siège</label>
                <input type="text" class="form-control" placeholder="Adresse du siège"
                       ng-model="organization.headquartersAddress"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Adresse du siège"
                       ng-model="organization.headquartersAddress"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Localité du siège</label>
                <input type="text" class="form-control" placeholder="Localité du siège"
                       ng-model="organization.headquartersLocation"
                       ng-if="modified">
                <input type="text" class="form-control" placeholder="Localité du siège"
                       ng-model="organization.headquartersLocation"
                       ng-if="!modified" disabled>
            </div>

        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Nombre total d'employés</label>
                <input type="number" class="form-control" placeholder="Nombre total d'employés"
                       ng-model="organization.employeesNumber"
                       ng-if="modified">
                <input type="number" class="form-control" placeholder="Nombre total d'employés"
                       ng-model="organization.employeesNumber"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Nombre d'équivalents plein temps</label>
                <input type="number" class="form-control" placeholder="Nombre d'équivalents plein temps"
                       ng-model="organization.fullTimeNumber"
                       ng-if="modified">
                <input type="number" class="form-control" placeholder="Nombre d'équivalents plein temps"
                       ng-model="organization.fullTimeNumber"
                       ng-if="!modified" disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <label>Principaux changements au sein du système de management depuis le dernier audit</label>
                <input type="text" class="form-control"
                       placeholder="Principaux changements au sein du système de management depuis le dernier audit"
                       ng-model="organization.changesSinceLastAudit" ng-if="modified">
                <input type="text" class="form-control"
                       placeholder="Principaux changements au sein du système de management depuis le dernier audit"
                       ng-model="organization.changesSinceLastAudit" ng-if="!modified"
                       disabled>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-12 mb-3">
                <input type="button" value="Modifier" class="btn btn-dark" ng-click="modif()"
                       ng-if="!modified">
                <button class="btn btn-success" ng-click="updateProfile()" ng-if="modified">Sauvegarder</button>
                <button class="btn btn-danger" ng-click="cancel()" ng-if="modified">Annuler</button>
            </div>
        </div>
    </uib-tab>
    <uib-tab index="1" heading="{{tabs[1].name}}" disable="tabs[1].disabled">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">Rapport</th>
                <th scope="col">Date</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="audit in audits" class="clickable-tr">
                <td ng-click="goTo(audit.pk_audit)">{{audit.reportName}}</td>
                <td ng-click="goTo(audit.pk_audit)">{{audit.auditDate | date:"dd.MM.yyyy"}}</td>
                <td><button class="btn btn-dark" ><ng-md-icon icon="picture_as_pdf" style="fill: white"></ng-md-icon></button> </td>
            </tr>
            </tbody>
        </table>
    </uib-tab>
</uib-tabset>